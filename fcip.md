FCIP是Fiber Channel over IP的标准协议。在同一个SAN范围内，TCP/IP数据包再封装FC命令和数据，从而在IP网络上传输FC命令和数据。

![](/assets/fcip_1.png)

既然基于FC数据包，就可以传输SCSI数据，那么为什么还需要在FC包外面在封一层，使其变成TCP/IP数据包呢？

实际上，通过FC网络进行数据传输的有效传输距离是有限制的。通常FC网络只能在同一数据中心内构建，或者在同城近距离的两个数据中心内构建，着就形成了我们通常所说的SAN“数据孤岛”（即，存储的数据只能在SAN能够联通的区域中传输，出了这个区域，数据将无法被访问到）。FCIP协议正是基于这种背景产生的，FCIP被提议为通过现有的IP网络连接光纤通道SAN“孤岛”的一种标准方法。FCIP还可用来克服光纤通道目前存在的距离限制因素，能够跨越大于光纤通道支持的距离连接SAN孤岛。FCIP具有实现纠错和检测的优点：即如果IP网络错误率高的话，它就重试。

![](/assets/fcip_2.png)

当前，FCIP协议通常用于异地灾备与高可用的解决方案中，为用户有效管理业务连续系统提供了更为灵活的方式，能够进行实时的数据远程复制，可以在光纤通道控制器的基础上为用户提供具有容灾能力、无单点故障的SAN解决方案，使用户能够在现有的IT基础设施上运用IP联网技术，把区域性SAN作为更广阔的全国甚至全球性基础设施中的一个数据恢复站点。

这通常用于对异地两个数据中心的SAN存储网络中的数据进行异步备份，或者数据中心内服务器远程访问该数据中心外的SAN存储网络。

就像iSCSI协议将SCSI指令压缩为IP包一样，FCIP协议将光纤通道指令压缩为IP包，FCIP 协议允许独立的SAN环境通过IP网络互联在一起。每个SAN采用标准FC寻址，在FCIP的端点之间建立IP隧道（或网关\)，一旦隧道建立，扩展的FC设备将被视为标准的FC设备，并予以FC寻址。

![](/assets/fcip_3.png)



