原生RADOS协议与librados API

* 存储池操作
* 存储池快照
* 对象读写访问
  * 创建
  * 删除
  * 追加
  * 截断
* 对象元数据访问
  * 设置/获取/删除 XATTRS
  * 设置/获取/删除 键值对

### 高级特性 {#UDSCeph客户端架构-高级特性}

除了一些对象访问的最基本操作之外，UDS Ceph还提供了一些高级的操作

#### 对象Watch/Notify {#UDSCeph客户端架构-对象Watch/Notify}

客户端可以注册并监视在某个Object上（称为Watch），当被监视的Object由于其他客户端发起请求，将其数据更新时，该Object会通知所有Watch它的客户端自己的内容发生了变化（称为Notify），实现了多个客户端间的数据通信与同步。

![](/assets/native_protocol_1.png)

#### 对象锁 {#UDSCeph客户端架构-对象锁}

RADOS协议本身不限制多客户端对同一个Object进行更新操作，就像文件系统不限制多个进程对同一个文件进行操作一样，当需要保证只有一个进程能对文件访问时，可以获取文件的互斥锁。那么当客户端的更新请求必须严格保证顺序时，就需要提供Object的互斥锁。UDS Ceph提供对象级别的互斥锁，以保障同一时间只有一个客户端可以对对象进行操作。



