在分布式存储中，数据拷贝是维护分布式存储数据一致性的一个重用手段，分布式存储与本地 RAID 不同，本地 RAID 可以通过带 NVRAM 非易失性存储的 RAID 卡保证数据复制的原子性，在 RAID1 中要么两块磁盘更新操作同时成功，要么更新操作同时失败，不会出现一块盘数据更新成功，而一块盘数据失败的情况。然而，在分布式系统中，这就复杂的多，无论是在数据传输过程中，还是在数据落盘过程中，都有可能由于节点 DOWN 机，系统异常等原因，造成部分更新的情况发生。

虽然使用数据拷贝方式，大大增加了数据冗余带来的空间放大成本。然而由于数据拷贝在分布式存储中，对于数据一致性的处理是最简单的，所以在分布式存储中，数据拷贝仍然是最主流的数据冗余方式。

除此之外，RAID 1 通常只能维护一个备份，而数据拷贝能够以近乎相同了逻辑维护任意多个副本，而使用多少个副本，可以由用户根据应用需要达到的数据可靠性等级，灵活决策。通常情况下，在大规模分布式存储中，使用两个副本对数据进行冗余是不够的，当使用两个副本时，只要由两个硬盘或者两个节点异常，数据就会不可用甚至丢失，故通常情况下，分布式系统都使用三个副本对数据进行冗余。

![](/assets/replication_1.png)

