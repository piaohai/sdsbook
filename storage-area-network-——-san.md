## 背景

随着技术的不断发展，服务器性能越来越高，而单个应用规模的增加都非常有限，并且随着软件开发技术的不断发展，一个大型应用通常会进行模块拆分和模块解耦，使得应用能够以模块化的方式实施，部署和上线。在这个阶段，一台服务器上可以承载和部署数个应用，甚至数十个应用，在这个阶段的问题是由于每个应用的开发者不同，应用所依赖的类库，软件包版本等都会有差异，那么大量的应用在同一台服务器上部署，维护和升级十分困难，经常应用与应用之间软件包版本或类库依赖产生冲突。所以在很长一段时间内，一台服务器上只会规划数个应用，有的甚至只规划一个应用，以便于维护和管理。但这导致了服务器资源闲置与浪费，为了解决这个问题，服务器虚拟化技术产生了，此处将不介绍服务器虚拟化相关内容，请读者自行了解服务器虚拟化相关知识。

随着服务区虚机化技术逐步流行，每台虚拟机都需要规划和使用自己的块存储设备，而NAS只能提供基于文件的访问方式，故在早期，虚机中的镜像和虚拟盘都是以文件的方式存在于主机的某个文件目录下，而这个文件目录正式通过NFS或者CIFS协议挂载的一个从NAS导出的共享文件系统，那这其中又存在什么问题呢？相信使用过共享文件系统的同学知道，向NFS，CIFS这种共享文件系统，对于高并发的小IO支持是非常差的，这一点受限于共享文件系统协议本身——这里将不在深入展开，请有兴趣的同学可以深入学习文件系统的实现以及网络文件系统的实现。正是由于NAS的访问方式对于块设备的支持效率低，延时高，并发差等缺陷，对于虚拟化的支持不好，而人们发现在大多数情况下，虚拟机对于块存储的需求，其实并不需要在多个节点之间共享数据，而只是希望能够将数据集中的管理起来，并且能够快速高效的进行并发访问。所以在20世纪90年代，SAN（Storage Area Network）产生了 —— 存储区域网络，顾名思义，它以特定的存储网络（FC，ISCSI，FCoE等）打通并实现了底层块存储数据（SCSI协议数据包）直接在网络上进行交互与传输的通道，通过FC网络方式打通的SAN存储，通常称为FCSAN，而通过ISCSI协议打通的SAN存储通常称为IPSAN。在生活中，我们一般接触不到SAN存储，而在小型企业中，通常会选择廉价的基于ISCSI的SAN设备（IPSAN），所以很难接触到基于FC与FCoE网络的SAN设备。

存储发展至今天，企业对于存储的需求多样化，基于业务场景的不同，希望能够使用不同的共享存储接入方式。所以如今很多企业级产品能够同时提供SAN与NAS的访问方式，而在SAN中，当前的接入方式又以FCoE为主（FC将被逐渐取代），中低端设备以ISCSI为主对的访问方式。

